# ============================================
# S&S Messebau API - .htaccess
# ============================================

# CORS is handled by PHP (setCorsHeaders() in config.php) to avoid
# duplicate Access-Control-Allow-Origin headers which cause CORS failures.
# Do NOT add Apache-level CORS headers here.

# Ensure PHP files are executed (not served as static)
# Cover both mod_php7 (PHP 7.x) and mod_php (PHP 8.x)
<IfModule mod_php7.c>
    php_flag engine on
</IfModule>
<IfModule mod_php.c>
    php_flag engine on
</IfModule>

# Deny access to data directory
<IfModule mod_rewrite.c>
    RewriteEngine On
    RewriteRule ^data/ - [F,L]
</IfModule>

# Deny access to config.php directly (only include)
<Files "config.php">
    <IfModule mod_authz_core.c>
        Require all denied
    </IfModule>
</Files>

# Deny access to db.php directly
<Files "db.php">
    <IfModule mod_authz_core.c>
        Require all denied
    </IfModule>
</Files>

# Deny access to SQLite database files
<FilesMatch "\.(sqlite|sqlite3|db)$">
    <IfModule mod_authz_core.c>
        Require all denied
    </IfModule>
</FilesMatch>
