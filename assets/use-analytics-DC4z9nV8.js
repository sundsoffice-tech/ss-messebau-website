import{r as e}from"./vendor-ui-C8oODcp1.js";import{W as n,X as t,Y as r,Z as o}from"./index-BYTirWH_.js";function s(t){const o=e.useRef(new Set);e.useEffect(()=>{const e=[25,50,75,100],s=o.current;s.clear();const i=()=>{if(!n())return;const o=window.scrollY,i=document.documentElement.scrollHeight-window.innerHeight;if(i<=0)return;const c=Math.round(o/i*100);for(const n of e)c>=n&&!s.has(n)&&(s.add(n),r(t,n))};return window.addEventListener("scroll",i,{passive:!0}),()=>window.removeEventListener("scroll",i)},[t])}function i(t){e.useEffect(()=>{const e=Date.now(),r=()=>{if(!n())return;const r=Math.round((Date.now()-e)/1e3);r>2&&o(t,r)},s=()=>{"hidden"===document.visibilityState&&r()};return document.addEventListener("visibilitychange",s),()=>{r(),document.removeEventListener("visibilitychange",s)}},[t])}function c(r,o=120){const s=e.useRef(!1);e.useEffect(()=>{if(!r)return;s.current=!1;const e=Date.now(),i=setInterval(()=>{if(s.current)return;if(!n())return;const c=Math.round((Date.now()-e)/1e3);c>=o&&(s.current=!0,t(r,c),clearInterval(i))},1e4);return()=>clearInterval(i)},[r,o])}export{i as a,c as b,s as u};
