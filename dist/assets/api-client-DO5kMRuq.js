async function e(e,t={}){const s=`/api/${e}`,i=await fetch(s,{credentials:"include",headers:{"Content-Type":"application/json",...t.headers||{}},...t}),a=await i.text(),o=a?JSON.parse(a):{};if(!i.ok)throw new Error(o.error||`API Error ${i.status}`);return o}const t={me:()=>e("auth.php?action=me"),login:(t,s)=>e("auth.php?action=login",{method:"POST",body:JSON.stringify({username:t,password:s})}),logout:()=>e("auth.php?action=logout"),setup:(t,s,i)=>e("auth.php?action=setup",{method:"POST",body:JSON.stringify({username:t,password:s,displayName:i})}),checkSetup:()=>e("auth.php?action=check_setup")},s={list:t=>{const s=new URLSearchParams;t?.status&&s.set("status",t.status),t?.search&&s.set("search",t.search);const i=s.toString();return e("orders.php"+(i?"?"+i:""))},get:t=>e(`orders.php?id=${t}`),create:(t,s)=>e("orders.php",{method:"POST",body:JSON.stringify({config_id:t,order_data:s})}),updateStatus:(t,s)=>e("orders.php",{method:"PATCH",body:JSON.stringify({id:t,status:s})}),delete:t=>e(`orders.php?id=${t}`,{method:"DELETE"})},i={list:t=>{const s=new URLSearchParams;t?.type&&s.set("type",t.type),t?.search&&s.set("search",t.search);const i=s.toString();return e("inquiries.php"+(i?"?"+i:""))},create:t=>e("inquiries.php",{method:"POST",body:JSON.stringify(t)}),delete:t=>e(`inquiries.php?id=${t}`,{method:"DELETE"})},a={enqueue:t=>e("email.php?action=enqueue",{method:"POST",body:JSON.stringify(t)}),send:t=>e("email.php?action=send",{method:"POST",body:JSON.stringify({queue_id:t})}),list:t=>e(`email.php?action=list${void 0!==t?`&sent=${t}`:""}`),delete:t=>e(`email.php?action=delete&id=${t}`,{method:"DELETE"}),status:()=>e("email.php?action=status")};export{t as authApi,a as emailApi,i as inquiriesApi,s as ordersApi};
